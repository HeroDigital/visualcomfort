import{createElement,render}from"./preact.js";function ContextProvider(e){this.getChildContext=()=>e.context;return e.children}function Portal(e){const t=this,n=e._container;t.componentWillUnmount=()=>{render(null,t._temp),t._temp=null,t._container=null},t._container&&t._container!==n&&t.componentWillUnmount(),t._temp||(t._container=n,t._temp={nodeType:1,parentNode:n,childNodes:[],appendChild(e){this.childNodes.push(e),t._container.appendChild(e)},insertBefore(e){this.childNodes.push(e),t._container.appendChild(e)},removeChild(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t._container.removeChild(e)}}),render(createElement(ContextProvider,{context:t.context},e._vnode),t._temp)}export function createPortal(e,t){const n=createElement(Portal,{_vnode:e,_container:t});return n.containerInfo=t,n}